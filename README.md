
# Программная защита от копирования (учебная реализация)

Кратко

Это пример учебной системы привязки приложения к конкретному компьютеру. Система состоит из двух компонентов:

- `installer.py` — формирует файл лицензии `license.key`, привязанный к текущему компьютеру.
- `protected_app.py` — защищаемое приложение, которое при запуске проверяет `license.key` и работает только при валидной лицензии.

Структура проекта

- `installer.py` — генератор лицензии (получает идентификатор ПК, формирует SHA-256 ключ, записывает `license.key`).
- `protected_app.py` — проверяет наличие и содержимое `license.key`, сравнивает с текущим устройством и, если всё в порядке, запускает простую функциональность (калькулятор).
- `README.md` — этот файл.

Как использовать (быстрая инструкция)

1) Сгенерировать лицензию на целевой машине (в директории установки):

```powershell
python installer.py --out-dir .
```

Команда создаст `license.key` в текущей директории и выведет идентификатор устройства и ключ.

2) Запустить защищаемое приложение (в той же папке, где `license.key`):

```powershell
python protected_app.py
```

Если лицензия валидна — приложение запустится. Если нет — программа завершится с сообщением об ошибке лицензии.

Сборка в исполняемый файл (.exe) через PyInstaller

1. Установите PyInstaller:

```powershell
pip install pyinstaller
```

2. Соберите `protected_app.py` в один исполняемый файл:

```powershell
pyinstaller --onefile protected_app.py
```

3. В результате в папке `dist` появится `protected_app.exe`. Скопируйте рядом `license.key` — приложение будет работать только с этим файлом, сгенерированным для текущего компьютера.

Тестовые сценарии

- Успешный запуск: сгенерировать `license.key` на машине A и запустить `protected_app` на машине A — приложение запускается.
- Неуспешный запуск: скопировать `protected_app.exe` на машину B без `license.key` или с `license.key`, сгенерированным для машины A — при запуске будет выведено сообщение об ошибке лицензии.

Технические детали

- Идентификатор компьютера: комбинация имени хоста и MAC-адреса.
- Формат ключа: SHA-256 от строки идентификатора (в hex).
- Лицензия хранится в JSON-файле `license.key` с полями `device_id` и `license_key`.
- Алгоритмы и хранение реализованы в учебных целях (открытый формат, простая проверка).

Ограничения и замечания

- Реализация учебная — не предназначена для боевой защиты. Она не защищает от чтения/подмены файлов, реверс-инжиниринга или подделки окружения.
- Для реальной защиты потребуются дополнительные меры: обфускация, аппаратные ключи, сервер активации, подпись лицензий и т.п.

Что дальше (рекомендации)

- Если нужно, могу:
	- добавить команду проверки/отзыва лицензии;
	- реализовать шифрование/подпись `license.key`;
	- подготовить `requirements.txt` или `pyproject.toml` с зависимостями;
	- собрать `protected_app.exe` здесь и показать файл (если среда поддерживает сборку).

